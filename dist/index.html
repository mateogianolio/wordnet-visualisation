<html>
  <head>
    <title>WordNet visualisation</title>
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif' rel='stylesheet' type='text/css'>
    <style>
      * {
        font: 100%/1.5 'Droid Serif', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-box-sizing: border-box;
      }
      
      input {
        outline: 0;
      }
      
      .container {
        position: relative;
        width: 75%;
        height: 75%;
        margin: 10% auto;
      }
      
      .source, .node {
        text-align: center;
        padding: .25em 1em;
        font-size: 1.15rem;
        border-radius: .25em;
      }
      
      .source {
        width: 200px;
        position: absolute;
        border: none;
        font-size: 1.25rem;
        background: #F5F5F5;
        z-index: 999;
      }
      
      .node:hover {
        background: #212121;
        color: #fff;
      }
      
      .a { background: #FFEB3B }
      .n { background: #29B6F6 }
      .s { background: #FF9800 }
      .v { background: #8BC34A }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
      $(function() {
        var url = 'https://polar-coast-8848.herokuapp.com/',
            width = $('.container').width(),
            height = $('.container').height();
        
        var source = $('.source');
        source.css({
          left: (width / 2 - (source.width() / 2)),
          top: (height / 2 - (source.height() / 2))
        });

        source.keypress(function(event) {
          if(event.which === 13) {
            $('.node').each(function() {
              var e = $(this);
              e.animate({
                opacity: 0,
                left: (width / 2),
                top: (height / 2)
              }, {
                duration: 300,
                done: function() {
                  e.remove();
                }
              });
            });
            
            $.get(url + $(this).val(), function(nodes) {
              nodes.forEach(function(node, i) {
                var element = document.createElement('div');

                $(element)
                  .css({
                    position: 'absolute',
                    opacity: 0
                  })
                  .attr('id', i)
                  .addClass('node')
                  .addClass(node.type)
                  .html(node.word.split('_').join(' '));

                $('.container').append(element);

                var el = $('#' + i);
                var target = {
                  x: (width / 2 - el.width() / 2),
                  y: (height / 2 - el.height() / 2)
                };

                el
                  .css({
                    left: target.x,
                    top: target.y
                  })
                  .animate({
                    opacity: 1,
                    left: '+=' + (width * node.position.x),
                    top: '+=' + (height * node.position.y)
                  }, {
                    duration: 600
                  });
              });
            });
          }
        });
      });
    </script>
  </head>
  <body>
    <div class="container">
      <input class="source" type="text" placeholder="Search ...">
    </div>
  </body>
</html>